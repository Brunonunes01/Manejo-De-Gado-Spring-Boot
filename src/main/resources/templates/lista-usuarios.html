<html lang="pt-br"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<section layout:fragment="conteudo">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 th:text="${titulo} ?: 'Lista de Usuários'"></h1>

        <a href="/usuarios/novo" class="btn btn-primary btn-lg">
            <i class="bi bi-plus-circle"></i> Cadastrar Novo Usuário
        </a>
    </div>

    <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
        <i class="bi bi-check-circle-fill"></i>
        <span th:text="${successMessage}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-triangle-fill"></i>
        <span th:text="${errorMessage}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <table class="table table-striped table-hover shadow-sm bg-white">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Email</th>
            <th>Ações</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="usuario : ${usuarios}">
            <td th:text="${usuario.id}">1</td>
            <td th:text="${usuario.nome}">Nome Exemplo</td>
            <td th:text="${usuario.email}">exemplo@email.com</td>
            <td>
                <a th:href="@{/usuarios/editar/{id}(id=${usuario.id})}" class="btn btn-warning btn-sm">
                    <i class="bi bi-pencil-fill"></i> Editar
                </a>
                <a th:href="@{/usuarios/excluir/{id}(id=${usuario.id})}" class="btn btn-danger btn-sm">
                    <i class="bi bi-trash-fill"></i> Excluir
                </a>
            </td>
        </tr>

        <tr th:if="${usuarios.empty}">
            <td colspan="4">
                <div class="alert alert-info text-center" role="alert">
                    Nenhum usuário cadastrado.
                </div>
            </td>
        </tr>
        </tbody>
    </table>

</section>
</html>